#!/bin/bash

COLOR="\033[38;5;213m"  # Your magenta-pink
RESET="\033[0m"

SCRIPT_DIR="$(dirname "$(realpath "$0")")"

# Define your banner lines
banner_lines=(
"░█████╗░██╗░░██╗░█████╗░░██████╗"
"██╔══██╗╚██╗██╔╝██╔══██╗██╔════╝"
"███████║░╚███╔╝░██║░░██║╚█████╗░"
"██╔══██║░██╔██╗░██║░░██║░╚═══██╗"
"██║░░██║██╔╝╚██╗╚█████╔╝██████╔╝"
"╚═╝░░╚═╝╚═╝░░╚═╝░╚════╝░╚═════╝░"
)

# Read axos.txt and replace color variables
mapfile -t logo_lines < <(
  while IFS= read -r line; do
    line="${line//\$1/$COLOR}"
    line="${line//\$2/$COLOR}"
    echo -e "$line$RESET"
  done < "$SCRIPT_DIR/axos.txt"
)

# Get total line count
banner_len=${#banner_lines[@]}
logo_len=${#logo_lines[@]}
total_lines=$(( banner_len > logo_len ? banner_len : logo_len ))

# Print banner + logo side-by-side
for ((i = 0; i < total_lines; i++)); do
    banner="${banner_lines[i]}"
    logo="${logo_lines[i]}"
    printf "${COLOR}%-40s${RESET} %s\n" "$banner" "$logo"
done

# System info
echo
echo -e "${COLOR}OS:${RESET} AxOS (Arch-based)"
echo -e "${COLOR}Kernel:${RESET} $(uname -r)"
echo -e "${COLOR}Uptime:${RESET} $(uptime -p)"
echo -e "${COLOR}Shell:${RESET} $SHELL"
echo -e "${COLOR}WM/DE:${RESET} ${XDG_CURRENT_DESKTOP:-$DESKTOP_SESSION}"
echo -e "${COLOR}Terminal:${RESET} $TERM"
echo -e "${COLOR}CPU:${RESET} $(grep -m1 'model name' /proc/cpuinfo | cut -d ':' -f2 | xargs)"
echo -e "${COLOR}RAM:${RESET} $(free -h | awk '/Mem:/ {print $3 "/" $2}')"
echo -e "${COLOR}Packages:${RESET} $(pacman -Q | wc -l)"
echo -e "${COLOR}Storage:${RESET} $(df -h / | awk 'NR==2 {print $3 "/" $2}')"
