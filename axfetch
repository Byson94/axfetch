#!/bin/bash

COLOR1="\033[38;5;213m"
COLOR2="\033[38;5;213m"
RESET="\033[0m"

# AxOS ASCII logo
ascii_logo=(
"$1                     ooooos"
"$1                 os   o  o    s"
"$1            oo       s    s       ss"
"$1        oooo     o            o     ssss"
"$1       o    oo                    os    s"
"$1      oo  o                          s  ss"
"$1     o o o        oooooooooooo        s s s"
"$1       o s       ooooooooooooo        s s"
"$1    s  oo        oooooooooooooo        oo  s"
"$1   o   o         ooooos  oooooo         o   s"
"$1  o    o        soooo     soooo         o    s"
"$1     os         oooo       soooo         so"
"$2 s              ooosss   sssoooo              o"
"$2     ss        oooo          ooos        so"
"$2  s    s       oooo          oooo       o    o"
"$2   s   s       ooo            ooo       o   o"
"$2    s  ss     oooo            ooos     oo  s"
"$2       s s  soooos            sooooo  s o"
"$2     s s s                            o o o"
"$2      ss  s                          o  oo"
"$2       s    ss                    oo    o"
"$2        #sss     s            o     oooo"
"$2            ss       s    s       oo"
"$2                 ss   s  o    o"
"$2                     ssssss"
)

# Banner
banner_lines=(
"░█████╗░██╗░░██╗░█████╗░░██████╗"
"██╔══██╗╚██╗██╔╝██╔══██╗██╔════╝"
"███████║░╚███╔╝░██║░░██║╚█████╗░"
"██╔══██║░██╔██╗░██║░░██║░╚═══██╗"
"██║░░██║██╔╝╚██╗╚█████╔╝██████╔╝"
"╚═╝░░╚═╝╚═╝░░╚═╝░╚════╝░╚═════╝░"
)

# Combine logo and banner side by side
max_lines=${#ascii_logo[@]}
(( ${#banner_lines[@]} > max_lines )) && max_lines=${#banner_lines[@]}

echo
for ((i = 0; i < max_lines; i++)); do
  logo_line="${ascii_logo[i]:-}"
  banner_line="${banner_lines[i]:-}"
  logo_line="${logo_line//\$1/$COLOR1}"
  logo_line="${logo_line//\$2/$COLOR2}"
  printf "%-50s  ${COLOR1}%-35s${RESET}\n" "$logo_line" "$banner_line"
done
echo

# Box width is 66 characters
box_width=66
horiz_line=$(printf '─%.0s' $(seq 1 $((box_width - 2))))

# Box top
echo -e "${COLOR1}╭${horiz_line}╮${RESET}"

# System Info rows
printf "${COLOR1}│${RESET} %-20s %-20s %-19s ${COLOR1}│\n" \
  "OS: AxOS" \
  "Kernel: $(uname -r | cut -c1-18)" \
  "Uptime: $(uptime -p | cut -c1-16)"
printf "${COLOR1}│${RESET} %-20s %-20s %-19s ${COLOR1}│\n" \
  "Shell: $SHELL" \
  "WM/DE: ${XDG_CURRENT_DESKTOP:-$DESKTOP_SESSION}" \
  "Terminal: $TERM"
printf "${COLOR1}│${RESET} %-20s %-20s %-19s ${COLOR1}│\n" \
  "CPU: $(grep -m1 'model name' /proc/cpuinfo | cut -d ':' -f2 | cut -c1-18)" \
  "RAM: $(free -h | awk '/Mem:/ {print $3 "/" $2}')" \
  "Packages: $(pacman -Q | wc -l)"
printf "${COLOR1}│${RESET} %-62s ${COLOR1}│\n" \
  "Storage: $(df -h / | awk 'NR==2 {print $3 "/" $2}')"

# Box bottom
echo -e "${COLOR1}╰${horiz_line}╯${RESET}"
