#!/bin/bash

# Colors
COLOR1="\033[1;38;5;213m"  # Bold bright magenta
COLOR2="\033[0;38;5;213m"  # Normal bright magenta
RESET="\033[0m"
SCRIPT_DIR="$(dirname "$(realpath "$0")")"

# Store ASCII logo into a variable (AxOS logo)
read -r -d '' ASCII_LOGO <<'EOF'
                     ooooos
                 os   o  o    s
            oo       s    s       ss
        oooo     o            o     ssss
       o    oo                    os    s
      oo  o                          s  ss
     o o o        oooooooooooo        s s s
       o s       ooooooooooooo        s s
    s  oo        oooooooooooooo        oo  s
   o   o         ooooos  oooooo         o   s
  o    o        soooo     soooo         o    s
     os         oooo       soooo         so
              ooosss   sssoooo              o
     ss        oooo          ooos        so
  s    s       oooo          oooo       o    o
   s   s       ooo            ooo       o   o
    s  ss     oooo            ooos     oo  s
       s s  soooos            sooooo  s o
     s s s                            o o o
      ss  s                          o  oo
       s    ss                    oo    o
        #sss     s            o     oooo
            ss       s    s       oo
                 ss   s  o    o
                     ssssss
EOF

# Banner text
read -r -d '' BANNER <<'EOF'
░█████╗░██╗░░██╗░█████╗░░██████╗
██╔══██╗╚██╗██╔╝██╔══██╗██╔════╝
███████║░╚███╔╝░██║░░██║╚█████╗░
██╔══██║░██╔██╗░██║░░██║░╚═══██╗
██║░░██║██╔╝╚██╗╚█████╔╝██████╔╝
╚═╝░░╚═╝╚═╝░░╚═╝░╚════╝░╚═════╝░
EOF

# Gather system info
OS="AxOS (Arch-based)"
KERNEL=$(uname -r)
UPTIME=$(uptime -p | sed 's/up //')
SHELL_NAME="$SHELL"
WM="${XDG_CURRENT_DESKTOP:-$DESKTOP_SESSION}"
TERM_NAME="$TERM"
CPU=$(grep -m1 'model name' /proc/cpuinfo | cut -d ':' -f2 | xargs)
RAM=$(free -h | awk '/Mem:/ {print $3 "/" $2}')
PKGS=$(pacman -Q | wc -l)
DISK=$(df -h / | awk 'NR==2 {print $3 "/" $2}')

# Combine banner and logo side by side
paste <(echo "$ASCII_LOGO") <(echo "$BANNER" | sed "s/^/    /") | while IFS= read -r line; do
    echo -e "${COLOR1}${line}${RESET}"
done

# Print the system info box
echo -e "${COLOR2}"
echo "╭──────────────────────────────────────────────────────────────╮"
printf "│ ${COLOR1}OS:${RESET} %-20s ${COLOR1}Kernel:${RESET} %-18s ${COLOR1}Uptime:${RESET} %-8s │\n" "$OS" "$KERNEL" "$UPTIME"
printf "│ ${COLOR1}Shell:${RESET} %-17s ${COLOR1}WM/DE:${RESET} %-18s ${COLOR1}Terminal:${RESET} %-10s │\n" "$SHELL_NAME" "$WM" "$TERM_NAME"
printf "│ ${COLOR1}CPU:${RESET} %-24s ${COLOR1}RAM:${RESET} %-14s ${COLOR1}Packages:${RESET} %-6s │\n" "$CPU" "$RAM" "$PKGS"
printf "│ ${COLOR1}Storage:${RESET} %-54s │\n" "$DISK"
echo "╰──────────────────────────────────────────────────────────────╯"
echo -e "${RESET}"
