#!/bin/bash

COLOR2="\033[1;38;5;213m"  # Bold magenta for ASCII, banner, and labels
RESET="\033[0m"

# Slightly trimmed original ASCII logo — trailing spaces removed but shape intact
ascii_logo=(
"$COLOR2                     ooooos"
"$COLOR2                 os   o  o    s"
"$COLOR2            oo       s    s       ss"
"$COLOR2        oooo     o            o     ssss"
"$COLOR2       o    oo                    os    s"
"$COLOR2      oo  o                          s  ss"
"$COLOR2     o o o        oooooooooooo        s s s"
"$COLOR2       o s       ooooooooooooo        s s"
"$COLOR2    s  oo        oooooooooooooo        oo  s"
"$COLOR2   o   o         ooooos  oooooo         o   s"
"$COLOR2  o    o        soooo     soooo         o    s"
"$COLOR2     os         oooo       soooo         so"
"$COLOR2 s              ooosss   sssoooo              o"
"$COLOR2     ss        oooo          ooos        so"
"$COLOR2  s    s       oooo          oooo       o    o"
"$COLOR2   s   s       ooo            ooo       o   o"
"$COLOR2    s  ss     oooo            ooos     oo  s"
"$COLOR2       s s  soooos            sooooo  s o"
"$COLOR2     s s s                            o o o"
"$COLOR2      ss  s                          o  oo"
"$COLOR2       s    ss                    oo    o"
"$COLOR2        #sss     s            o     oooo"
"$COLOR2            ss       s    s       oo"
"$COLOR2                 ss   s  o    o"
"$COLOR2                     ssssss"
)

# AxOS banner lines
banner_lines=(
"░█████╗░██╗░░██╗░█████╗░░██████╗"
"██╔══██╗╚██╗██╔╝██╔══██╗██╔════╝"
"███████║░╚███╔╝░██║░░██║╚█████╗░"
"██╔══██║░██╔██╗░██║░░██║░╚═══██╗"
"██║░░██║██╔╝╚██╗╚█████╔╝██████╔╝"
"╚═╝░░╚═╝╚═╝░░╚═╝░╚════╝░╚═════╝░"
)

# Print logo + banner side-by-side, both in $COLOR2 (bold magenta)
echo
for i in "${!ascii_logo[@]}"; do
    # Remove the $COLOR2 prefix from array content because it's already included; just print raw text
    logo_line="${ascii_logo[i]#\$COLOR2}"
    printf "${COLOR2}%-50s  %-40s${RESET}\n" "$logo_line" "${banner_lines[i]:-}"
done
echo

# ───── System Info Box ─────
OS="AxOS (Arch-based)"
KERNEL="$(uname -r)"
UPTIME="$(uptime -p)"
SHELL="$SHELL"
WM="${XDG_CURRENT_DESKTOP:-$DESKTOP_SESSION}"
TERM="$TERM"
CPU="$(grep -m1 'model name' /proc/cpuinfo | cut -d ':' -f2 | xargs | cut -c1-22)"
RAM="$(free -h | awk '/Mem:/ {print $3 "/" $2}')"
PKGS="$(pacman -Q | wc -l)"
STORAGE="$(df -h / | awk 'NR==2 {print $3 "/" $2}')"

# Truncate long strings to fit nicely inside box
truncate() {
  local str="$1"
  local maxlen=$2
  if [ ${#str} -gt $maxlen ]; then
    echo "${str:0:maxlen-3}..."
  else
    echo "$str"
  fi
}

echo -e "${COLOR2}╭──────────────────────────────────────────────────────────────╮${RESET}"

printf "${COLOR2}│${RESET} ${COLOR2}%-8s${RESET} %-18s   ${COLOR2}%-8s${RESET} %-30s${COLOR2}│\n" \
  "OS:" "$(truncate "$OS" 18)" "Kernel:" "$(truncate "$KERNEL" 30)"

printf "${COLOR2}│${RESET} ${COLOR2}%-8s${RESET} %-18s   ${COLOR2}%-8s${RESET} %-30s${COLOR2}│\n" \
  "Uptime:" "$(truncate "$UPTIME" 18)" "Shell:" "$(truncate "$SHELL" 30)"

printf "${COLOR2}│${RESET} ${COLOR2}%-8s${RESET} %-1
